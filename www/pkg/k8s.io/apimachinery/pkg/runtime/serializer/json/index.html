<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>json - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.15.6";</script>
<script src="../../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package json
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "k8s.io/apimachinery/pkg/runtime/serializer/json"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
				<dd><a href="index.html#pkg-variables">Variables</a></dd>
			
			
				
				<dd><a href="index.html#CaseSensitiveJSONIterator">func CaseSensitiveJSONIterator() jsoniter.API</a></dd>
			
				
				<dd><a href="index.html#StrictCaseSensitiveJSONIterator">func StrictCaseSensitiveJSONIterator() jsoniter.API</a></dd>
			
			
				
				<dd><a href="index.html#MetaFactory">type MetaFactory</a></dd>
				
				
			
				
				<dd><a href="index.html#Serializer">type Serializer</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewSerializer">func NewSerializer(meta MetaFactory, creater runtime.ObjectCreater, typer runtime.ObjectTyper, pretty bool) *Serializer</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewSerializerWithOptions">func NewSerializerWithOptions(meta MetaFactory, creater runtime.ObjectCreater, typer runtime.ObjectTyper, options SerializerOptions) *Serializer</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewYAMLSerializer">func NewYAMLSerializer(meta MetaFactory, creater runtime.ObjectCreater, typer runtime.ObjectTyper) *Serializer</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Serializer.Decode">func (s *Serializer) Decode(originalData []byte, gvk *schema.GroupVersionKind, into runtime.Object) (runtime.Object, *schema.GroupVersionKind, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Serializer.Encode">func (s *Serializer) Encode(obj runtime.Object, w io.Writer) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Serializer.Identifier">func (s *Serializer) Identifier() runtime.Identifier</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Serializer.RecognizesData">func (s *Serializer) RecognizesData(peek io.Reader) (ok, unknown bool, err error)</a></dd>
				
			
				
				<dd><a href="index.html#SerializerOptions">type SerializerOptions</a></dd>
				
				
			
				
				<dd><a href="index.html#SimpleMetaFactory">type SimpleMetaFactory</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#SimpleMetaFactory.Interpret">func (SimpleMetaFactory) Interpret(data []byte) (*schema.GroupVersionKind, error)</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/json.go">json.go</a>
			
				<a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/meta.go">meta.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
			<h2 id="pkg-variables">Variables</h2>
			
				<p>
DefaultMetaFactory is a default factory for versioning objects in JSON. The object
in memory and in the default JSON serialization will use the &#34;kind&#34; and &#34;apiVersion&#34;
fields.
</p>

				<pre>var <span id="DefaultMetaFactory">DefaultMetaFactory</span> = <a href="index.html#SimpleMetaFactory">SimpleMetaFactory</a>{}</pre>
			
				<p>
Framer is the default JSON framing behavior, with newlines delimiting individual objects.
</p>

				<pre>var <span id="Framer">Framer</span> = jsonFramer{}</pre>
			
				<p>
YAMLFramer is the default JSON framing behavior, with newlines delimiting individual objects.
</p>

				<pre>var <span id="YAMLFramer">YAMLFramer</span> = yamlFramer{}</pre>
			
		
		
			
			
			<h2 id="CaseSensitiveJSONIterator">func <a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/json.go?s=5474:5519#L141">CaseSensitiveJSONIterator</a>
				<a class="permalink" href="index.html#CaseSensitiveJSONIterator">&#xb6;</a>
				
				
			</h2>
			<pre>func CaseSensitiveJSONIterator() <a href="../../../../../../github.com/json-iterator/go/index.html">jsoniter</a>.<a href="../../../../../../github.com/json-iterator/go/index.html#API">API</a></pre>
			<p>
CaseSensitiveJSONIterator returns a jsoniterator API that&#39;s configured to be
case-sensitive when unmarshalling, and otherwise compatible with
the encoding/json standard library.
</p>

			
			

		
			
			
			<h2 id="StrictCaseSensitiveJSONIterator">func <a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/json.go?s=6062:6113#L156">StrictCaseSensitiveJSONIterator</a>
				<a class="permalink" href="index.html#StrictCaseSensitiveJSONIterator">&#xb6;</a>
				
				
			</h2>
			<pre>func StrictCaseSensitiveJSONIterator() <a href="../../../../../../github.com/json-iterator/go/index.html">jsoniter</a>.<a href="../../../../../../github.com/json-iterator/go/index.html#API">API</a></pre>
			<p>
StrictCaseSensitiveJSONIterator returns a jsoniterator API that&#39;s configured to be
case-sensitive, but also disallows unknown fields when unmarshalling. It is compatible with
the encoding/json standard library.
</p>

			
			

		
		
			
			
			<h2 id="MetaFactory">type <a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/meta.go?s=779:954#L18">MetaFactory</a>
				<a class="permalink" href="index.html#MetaFactory">&#xb6;</a>
				
				
			</h2>
			<p>
MetaFactory is used to store and retrieve the version and kind
information for JSON objects in a serializer.
</p>

			<pre>type MetaFactory interface {
    <span class="comment">// Interpret should return the version and kind of the wire-format of</span>
    <span class="comment">// the object.</span>
    Interpret(data []<a href="http://localhost:6060/pkg/builtin/#byte">byte</a>) (*<a href="../../schema/index.html">schema</a>.<a href="../../schema/index.html#GroupVersionKind">GroupVersionKind</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Serializer">type <a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/json.go?s=4190:4356#L90">Serializer</a>
				<a class="permalink" href="index.html#Serializer">&#xb6;</a>
				
				
			</h2>
			<p>
Serializer handles encoding versioned objects into the proper JSON form
</p>

			<pre>type Serializer struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewSerializer">func <a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/json.go?s=1216:1335#L30">NewSerializer</a>
					<a class="permalink" href="index.html#NewSerializer">&#xb6;</a>
					
					
				</h3>
				<pre>func NewSerializer(meta <a href="index.html#MetaFactory">MetaFactory</a>, creater <a href="../../index.html">runtime</a>.<a href="../../index.html#ObjectCreater">ObjectCreater</a>, typer <a href="../../index.html">runtime</a>.<a href="../../index.html#ObjectTyper">ObjectTyper</a>, pretty <a href="http://localhost:6060/pkg/builtin/#bool">bool</a>) *<a href="index.html#Serializer">Serializer</a></pre>
				<p>
NewSerializer creates a JSON serializer that handles encoding versioned objects into the proper JSON form. If typer
is not nil, the object has the group, version, and kind fields set.
Deprecated: use NewSerializerWithOptions instead.
</p>

				
				
			
				
				<h3 id="NewSerializerWithOptions">func <a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/json.go?s=2306:2450#L45">NewSerializerWithOptions</a>
					<a class="permalink" href="index.html#NewSerializerWithOptions">&#xb6;</a>
					
					
				</h3>
				<pre>func NewSerializerWithOptions(meta <a href="index.html#MetaFactory">MetaFactory</a>, creater <a href="../../index.html">runtime</a>.<a href="../../index.html#ObjectCreater">ObjectCreater</a>, typer <a href="../../index.html">runtime</a>.<a href="../../index.html#ObjectTyper">ObjectTyper</a>, options <a href="index.html#SerializerOptions">SerializerOptions</a>) *<a href="index.html#Serializer">Serializer</a></pre>
				<p>
NewSerializerWithOptions creates a JSON/YAML serializer that handles encoding versioned objects into the proper JSON/YAML
form. If typer is not nil, the object has the group, version, and kind fields set. Options are copied into the Serializer
and are immutable.
</p>

				
				
			
				
				<h3 id="NewYAMLSerializer">func <a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/json.go?s=1824:1934#L38">NewYAMLSerializer</a>
					<a class="permalink" href="index.html#NewYAMLSerializer">&#xb6;</a>
					
					
				</h3>
				<pre>func NewYAMLSerializer(meta <a href="index.html#MetaFactory">MetaFactory</a>, creater <a href="../../index.html">runtime</a>.<a href="../../index.html#ObjectCreater">ObjectCreater</a>, typer <a href="../../index.html">runtime</a>.<a href="../../index.html#ObjectTyper">ObjectTyper</a>) *<a href="index.html#Serializer">Serializer</a></pre>
				<p>
NewYAMLSerializer creates a YAML serializer that handles encoding versioned objects into the proper YAML form. If typer
is not nil, the object has the group, version, and kind fields set. This serializer supports only the subset of YAML that
matches JSON, and will error if constructs are used that do not serialize to JSON.
Deprecated: use NewSerializerWithOptions instead.
</p>

				
				
			

			
				
				<h3 id="Serializer.Decode">func (*Serializer) <a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/json.go?s=8309:8458#L199">Decode</a>
					<a class="permalink" href="index.html#Serializer.Decode">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Serializer">Serializer</a>) Decode(originalData []<a href="http://localhost:6060/pkg/builtin/#byte">byte</a>, gvk *<a href="../../schema/index.html">schema</a>.<a href="../../schema/index.html#GroupVersionKind">GroupVersionKind</a>, into <a href="../../index.html">runtime</a>.<a href="../../index.html#Object">Object</a>) (<a href="../../index.html">runtime</a>.<a href="../../index.html#Object">Object</a>, *<a href="../../schema/index.html">schema</a>.<a href="../../schema/index.html#GroupVersionKind">GroupVersionKind</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
				<p>
Decode attempts to convert the provided data into YAML or JSON, extract the stored schema kind, apply the provided default gvk, and then
load that data into an object matching the desired schema kind or the provided into.
If into is *runtime.Unknown, the raw data will be extracted and no decoding will be performed.
If into is not registered with the typer, then the object will be straight decoded using normal JSON/YAML unmarshalling.
If into is provided and the original data is not fully qualified with kind/version/group, the type of the into will be used to alter the returned gvk.
If into is nil or data&#39;s gvk different from into&#39;s gvk, it will generate a new Object with ObjectCreater.New(gvk)
On success or most errors, the method will return the calculated schema kind.
The gvk calculate priority will be originalData &gt; default gvk &gt; into
</p>

				
				
				
			
				
				<h3 id="Serializer.Encode">func (*Serializer) <a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/json.go?s=11546:11612#L287">Encode</a>
					<a class="permalink" href="index.html#Serializer.Encode">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Serializer">Serializer</a>) Encode(obj <a href="../../index.html">runtime</a>.<a href="../../index.html#Object">Object</a>, w <a href="http://localhost:6060/pkg/io/">io</a>.<a href="http://localhost:6060/pkg/io/#Writer">Writer</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
Encode serializes the provided object to the given writer.
</p>

				
				
				
			
				
				<h3 id="Serializer.Identifier">func (*Serializer) <a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/json.go?s=12334:12386#L321">Identifier</a>
					<a class="permalink" href="index.html#Serializer.Identifier">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Serializer">Serializer</a>) Identifier() <a href="../../index.html">runtime</a>.<a href="../../index.html#Identifier">Identifier</a></pre>
				<p>
Identifier implements runtime.Encoder interface.
</p>

				
				
				
			
				
				<h3 id="Serializer.RecognizesData">func (*Serializer) <a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/json.go?s=12476:12557#L326">RecognizesData</a>
					<a class="permalink" href="index.html#Serializer.RecognizesData">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Serializer">Serializer</a>) RecognizesData(peek <a href="http://localhost:6060/pkg/io/">io</a>.<a href="http://localhost:6060/pkg/io/#Reader">Reader</a>) (ok, unknown <a href="http://localhost:6060/pkg/builtin/#bool">bool</a>, err <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
				<p>
RecognizesData implements the RecognizingDecoder interface.
</p>

				
				
				
			
		
			
			
			<h2 id="SerializerOptions">type <a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/json.go?s=3391:4113#L74">SerializerOptions</a>
				<a class="permalink" href="index.html#SerializerOptions">&#xb6;</a>
				
				
			</h2>
			<p>
SerializerOptions holds the options which are used to configure a JSON/YAML serializer.
example:
(1) To configure a JSON serializer, set `Yaml` to `false`.
(2) To configure a YAML serializer, set `Yaml` to `true`.
(3) To configure a strict serializer that can return strictDecodingError, set `Strict` to `true`.
</p>

			<pre>type SerializerOptions struct {
<span id="SerializerOptions.Yaml"></span>    <span class="comment">// Yaml: configures the Serializer to work with JSON(false) or YAML(true).</span>
    <span class="comment">// When `Yaml` is enabled, this serializer only supports the subset of YAML that</span>
    <span class="comment">// matches JSON, and will error if constructs are used that do not serialize to JSON.</span>
    Yaml <a href="http://localhost:6060/pkg/builtin/#bool">bool</a>

<span id="SerializerOptions.Pretty"></span>    <span class="comment">// Pretty: configures a JSON enabled Serializer(`Yaml: false`) to produce human-readable output.</span>
    <span class="comment">// This option is silently ignored when `Yaml` is `true`.</span>
    Pretty <a href="http://localhost:6060/pkg/builtin/#bool">bool</a>

<span id="SerializerOptions.Strict"></span>    <span class="comment">// Strict: configures the Serializer to return strictDecodingError&#39;s when duplicate fields are present decoding JSON or YAML.</span>
    <span class="comment">// Note that enabling this option is not as performant as the non-strict variant, and should not be used in fast paths.</span>
    Strict <a href="http://localhost:6060/pkg/builtin/#bool">bool</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="SimpleMetaFactory">type <a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/meta.go?s=1515:1548#L33">SimpleMetaFactory</a>
				<a class="permalink" href="index.html#SimpleMetaFactory">&#xb6;</a>
				
				
			</h2>
			<p>
SimpleMetaFactory provides default methods for retrieving the type and version of objects
that are identified with an &#34;apiVersion&#34; and &#34;kind&#34; fields in their JSON
serialization. It may be parameterized with the names of the fields in memory, or an
optional list of base structs to search for those fields in memory.
</p>

			<pre>type SimpleMetaFactory struct {
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="SimpleMetaFactory.Interpret">func (SimpleMetaFactory) <a href="http://localhost:6060/src/k8s.io/apimachinery/pkg/runtime/serializer/json/meta.go?s=1662:1743#L38">Interpret</a>
					<a class="permalink" href="index.html#SimpleMetaFactory.Interpret">&#xb6;</a>
					
					
				</h3>
				<pre>func (<a href="index.html#SimpleMetaFactory">SimpleMetaFactory</a>) Interpret(data []<a href="http://localhost:6060/pkg/builtin/#byte">byte</a>) (*<a href="../../schema/index.html">schema</a>.<a href="../../schema/index.html#GroupVersionKind">GroupVersionKind</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
				<p>
Interpret will return the APIVersion and Kind of the JSON wire-format
encoding of an object, or an error.
</p>

				
				
				
			
		
	

	







<div id="footer">
Build version go1.15.6.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="http://localhost:6060/doc/tos.html">Terms of Service</a> |
<a href="http://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
